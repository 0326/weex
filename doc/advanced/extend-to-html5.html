
<!DOCTYPE HTML>
<html lang="">
    <head>
        <title>Extend to web &#xB7; Weex</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.1">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../references/main.html">
    
    
    <link rel="prev" href="extend-to-ios.html">
    

    </head>
    <body>
        
<div class="book"><style>
.weex-doc-header{
    height: 70px;
    width: 100%;
}
.book .book-summary , .book .book-body{
    top: 70px;
}

a[aria-label="Share"] ,  i.fa-facebook , i.fa-twitter{
   display: none  !important;
}

.top-bar, .top-bar ul{
    background-color: white;
    padding-left: 0;
}

dl, ol, ul {
    line-height: 1.6;
    margin-bottom: 1rem;
    list-style-position: outside;
}

.top-bar {
    /* padding: .5rem; */
}

.top-bar:after {
    clear: both;
}
.top-bar:after, .top-bar:before {
    content: ' ';
    display: table;
}
*, :after, :before {
    box-sizing: inherit;
}

.top-bar a {
    
    font-size: 16px;
    color: #333333;
    text-align: left;
    /* font-family: HelveticaNeue-Light; */
}

.top-bar-title {
    float: left;
    margin-right: 5px;
    margin-left: 10px;    
    margin-top: 29px;    
    background: url("http://alibaba.github.io/weex/img/weex_logo_blue@3x.png") no-repeat;
    height: 33px;
    width: 145px;
    background-position: 0px 0px;
    -webkit-background-size: cover;
    background-size: cover;
    cursor:pointer;
}

 .top-bar-left {
    margin-top: 25px;         
    float: left;
}

.top-bar-right {
    float: right;
}
.top-bar .top-bar-right {
    margin-right: 100px;
    margin-top: 25px;
}
.top-bar .top-bar-right .github {
    width: 32px;
    height: 32px;
}


.menu {
    margin: 0;
    list-style-type: none;
}

.menu>li {
    display: table-cell;    
    vertical-align: middle;    
}


.menu>li>a {
    display: block;
    padding: .7rem 1rem;
    line-height: 1;
    line-height: 1;
    text-decoration: none;
    line-height: inherit;
    cursor: pointer;
}


span.weex-version{
    position: absolute;
    min-width: 10px;
    padding: 3px 7px;
    font-size: 12px;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    background-color: #777;
    border-radius: 10px;
}

a.weex-translate{
    font-size: 16px;
    position: relative;
    top: -6px;
    left: 20px;
    padding: 2px 4px;    
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25em;
    background-color: #de2810;
}

a.weex-translate.incomplete{
  background-color: #777;                    
}
 

.wx-v{
    padding: 3px 7px;
    font-size: 12px;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    background-color: #777;
    border-radius: 10px;
}
</style>

    <!-- 
    <link rel="stylesheet"  href="//g.alicdn.com/mtb/lab-zikuan/0.1.3/weex/weex_doc.css" >

    <link rel="stylesheet"  href="http://127.0.0.1/taobao/weex-os/weex/doc/ali_addition/weex_doc.css" >
    -->

<script>
function contentLoaded(win, fn) {

	var done = false, top = true,

	doc = win.document,
	root = doc.documentElement,
	modern = doc.addEventListener,

	add = modern ? 'addEventListener' : 'attachEvent',
	rem = modern ? 'removeEventListener' : 'detachEvent',
	pre = modern ? '' : 'on',

	init = function(e) {
		if (e.type == 'readystatechange' && doc.readyState != 'complete') return;
		(e.type == 'load' ? win : doc)[rem](pre + e.type, init, false);
		if (!done && (done = true)) fn.call(win, e.type || e);
	},

	poll = function() {
		try { root.doScroll('left'); } catch(e) { setTimeout(poll, 50); return; }
		init('poll');
	};

	if (doc.readyState == 'complete') fn.call(win, 'lazy');
	else {
		if (!modern && root.doScroll) {
			try { top = !win.frameElement; } catch(e) { }
			if (top) poll();
		}
		doc[add](pre + 'DOMContentLoaded', init, false);
		doc[add](pre + 'readystatechange', init, false);
		win[add](pre + 'load', init, false);
	}
}



function getTextWidth(text, font) {
    // re-use canvas object for better performance
    var canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement("canvas"));
    var context = canvas.getContext("2d");
    context.font = font;
    var metrics = context.measureText(text);
    return metrics.width;
}



function rePostionVersion(vDis){
    vDis =   vDis ? vDis : -28;
    if ($(".weex-version").length < 1){return ;}
    var vOffset = $(".weex-version").offset();
    var titleJObj = $(".weex-version").parents(".markdown-section").find("h1,h2,h3");
    var titleOffset = titleJObj.offset();
    var vDistance = (vOffset.top - titleOffset.top + vDis  );
    var hDistance = (titleJObj.width());
    $(".weex-version").css("transform", "translate("+hDistance+"px,-"+vDistance+"px)"); 
}


function rePostionTranslate(){
    if ($(".weex-version").length < 1){return ;}
    var translateMark = $(".weex-translate").filter(':visible');
    var titleJObj = translateMark.parents(".markdown-section").find("h1,h2,h3").eq(0);
    titleJObj.append(translateMark);
}

window._rePostionAll =   function () {
    rePostionVersion();
    rePostionTranslate();
}

contentLoaded(window,function(){
    setTimeout(function(){
        window._rePostionAll();
    },100);
})
</script>

    <!-- 
    <script src="//g.alicdn.com/mtb/lab-zikuan/0.1.3/weex/weex_doc.js"></script>
    <script src="http://127.0.0.1/taobao/weex-os/weex/doc/ali_addition/weex_doc.js"></script>
    -->    
    
<div class="weex-doc-header">
    <div class="top-bar">
        <div class="top-bar-title" onclick="location=&apos;http://alibaba.github.io/weex/index.html&apos;"></div>                        
        <div class="top-bar-left">
            <ul class="menu" role="menubar">
                <li role="menuitem">
                    <a href="http://alibaba.github.io/weex/demo.html">Showcase</a>                            
                </li>
                <li role="menuitem">
                    <a href="http://alibaba.github.io/weex/download.html">Download</a>
                </li>
            </ul>
        </div>
        <div class="top-bar-right">
            <ul class="menu">
                <li>
                    <a href="https://github.com/alibaba/weex">
                        <img class="github" src="//g.alicdn.com/mtb/lab-zikuan/0.1.1/weex/github.png" alt="github">
                    </a>
                 </li>
                
            </ul>                    
        </div>
    </div>        
</div>


    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../guide.html">
            
                <a href="../guide.html">
            
                    
                    Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../tutorial.html">
            
                <a href="../tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../syntax/main.html">
            
                <a href="../syntax/main.html">
            
                    
                    Syntax
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../syntax/data-binding.html">
            
                <a href="../syntax/data-binding.html">
            
                    
                    Data Binding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../syntax/style-n-class.html">
            
                <a href="../syntax/style-n-class.html">
            
                    
                    Style and Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../syntax/events.html">
            
                <a href="../syntax/events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../syntax/display-logic.html">
            
                <a href="../syntax/display-logic.html">
            
                    
                    Display Logic Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../syntax/render-logic.html">
            
                <a href="../syntax/render-logic.html">
            
                    
                    Render Logic Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../syntax/composed-component.html">
            
                <a href="../syntax/composed-component.html">
            
                    
                    Composed Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../syntax/id.html">
            
                <a href="../syntax/id.html">
            
                    
                    Find an Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../syntax/comm.html">
            
                <a href="../syntax/comm.html">
            
                    
                    Communications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../syntax/config-n-data.html">
            
                <a href="../syntax/config-n-data.html">
            
                    
                    Page Config &amp; Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../how-to/main.html">
            
                <a href="../how-to/main.html">
            
                    
                    How-tos
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../how-to/preview-in-browser.html">
            
                <a href="../how-to/preview-in-browser.html">
            
                    
                    Preview In Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../how-to/preview-in-playground-app.html">
            
                <a href="../how-to/preview-in-playground-app.html">
            
                    
                    Preview in Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../how-to/customize-a-native-component.html">
            
                <a href="../how-to/customize-a-native-component.html">
            
                    
                    Customize a native Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../how-to/cuszomize-native-apis.html">
            
                <a href="../how-to/cuszomize-native-apis.html">
            
                    
                    Customize native APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../how-to/debug-with-html5.html">
            
                <a href="../how-to/debug-with-html5.html">
            
                    
                    Debug in html5 renderer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../how-to/require-3rd-party-libs.html">
            
                <a href="../how-to/require-3rd-party-libs.html">
            
                    
                    Require 3rd Party Libs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="../how-to/transform-code-into-js-bundle.html">
            
                <a href="../how-to/transform-code-into-js-bundle.html">
            
                    
                    Transform Code Into JS Bundle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="main.html">
            
                <a href="main.html">
            
                    
                    Advanced
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="how-it-works.html">
            
                <a href="how-it-works.html">
            
                    
                    How It Works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="how-data-binding-works.html">
            
                <a href="how-data-binding-works.html">
            
                    
                    How Data Binding Works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="integrate-to-android.html">
            
                <a href="integrate-to-android.html">
            
                    
                    Integrate to Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="integrate-to-ios.html">
            
                <a href="integrate-to-ios.html">
            
                    
                    Integrate to iOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.5" data-path="integrate-to-html5.html">
            
                <a href="integrate-to-html5.html">
            
                    
                    Integrate to web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.6" data-path="extend-to-android.html">
            
                <a href="extend-to-android.html">
            
                    
                    Extend to Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.7" data-path="extend-to-ios.html">
            
                <a href="extend-to-ios.html">
            
                    
                    Extend to iOS
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.4.8" data-path="extend-to-html5.html">
            
                <a href="extend-to-html5.html">
            
                    
                    Extend to web
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../references/main.html">
            
                <a href="../references/main.html">
            
                    
                    References
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../references/bootstrap.html">
            
                <a href="../references/bootstrap.html">
            
                    
                    Bootstrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../references/component-defs.html">
            
                <a href="../references/component-defs.html">
            
                    
                    Component Definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../references/api.html">
            
                <a href="../references/api.html">
            
                    
                    Instance APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../components/main.html">
            
                <a href="../components/main.html">
            
                    
                    Built-in Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../references/common-attrs.html">
            
                <a href="../references/common-attrs.html">
            
                    
                    Common Attributes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../references/common-style.html">
            
                <a href="../references/common-style.html">
            
                    
                    Common Style
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.2.1" data-path="../references/text-style.html">
            
                <a href="../references/text-style.html">
            
                    
                    Text Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2.2" data-path="../references/color-names.html">
            
                <a href="../references/color-names.html">
            
                    
                    Color
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../references/common-event.html">
            
                <a href="../references/common-event.html">
            
                    
                    Common Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../components/special-element.html">
            
                <a href="../components/special-element.html">
            
                    
                    Special Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="../components/div.html">
            
                <a href="../components/div.html">
            
                    
                    div
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="../components/scroller.html">
            
                <a href="../components/scroller.html">
            
                    
                    scroller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.7" data-path="../components/list.html">
            
                <a href="../components/list.html">
            
                    
                    list
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.7.1" data-path="../components/cell.html">
            
                <a href="../components/cell.html">
            
                    
                    cell
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4.8" data-path="../components/text.html">
            
                <a href="../components/text.html">
            
                    
                    text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.9" data-path="../components/image.html">
            
                <a href="../components/image.html">
            
                    
                    image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.10" data-path="../components/input.html">
            
                <a href="../components/input.html">
            
                    
                    input
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.11" data-path="../components/switch.html">
            
                <a href="../components/switch.html">
            
                    
                    switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.12" data-path="../components/slider.html">
            
                <a href="../components/slider.html">
            
                    
                    slider
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.12.1" data-path="../components/indicator.html">
            
                <a href="../components/indicator.html">
            
                    
                    indicator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4.13" data-path="../components/video.html">
            
                <a href="../components/video.html">
            
                    
                    video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.14" data-path="../components/a.html">
            
                <a href="../components/a.html">
            
                    
                    a
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.15" data-path="../components/web.html">
            
                <a href="../components/web.html">
            
                    
                    web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.16" data-path="../components/wxc-tabbar.html">
            
                <a href="../components/wxc-tabbar.html">
            
                    
                    wxc-tabbar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.17" data-path="../components/wxc-navpage.html">
            
                <a href="../components/wxc-navpage.html">
            
                    
                    wxc-navpage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../modules/main.html">
            
                <a href="../modules/main.html">
            
                    
                    Built-in Modules
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../modules/dom.html">
            
                <a href="../modules/dom.html">
            
                    
                    dom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.2" data-path="../modules/stream.html">
            
                <a href="../modules/stream.html">
            
                    
                    stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.3" data-path="../modules/modal.html">
            
                <a href="../modules/modal.html">
            
                    
                    modal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.4" data-path="../modules/animation.html">
            
                <a href="../modules/animation.html">
            
                    
                    animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.5" data-path="../modules/webview.html">
            
                <a href="../modules/webview.html">
            
                    
                    webview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.6" data-path="../modules/navigator.html">
            
                <a href="../modules/navigator.html">
            
                    
                    navigator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6">
            
                <span>
            
                    
                    Low-level Specs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../specs/js-bundle-format.html">
            
                <a href="../specs/js-bundle-format.html">
            
                    
                    JS Bundle Format
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../specs/js-framework-apis.html">
            
                <a href="../specs/js-framework-apis.html">
            
                    
                    JS Framework APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.3" data-path="../specs/virtual-dom-apis.html">
            
                <a href="../specs/virtual-dom-apis.html">
            
                    
                    Virtual DOM APIs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4">
            
                <span>
            
                    
                    Examples
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../demo/hello-world.html">
            
                <a href="../demo/hello-world.html">
            
                    
                    Hello World
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../demo/modal.html">
            
                <a href="../demo/modal.html">
            
                    
                    Modal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../demo/list.html">
            
                <a href="../demo/list.html">
            
                    
                    List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../demo/slider.html">
            
                <a href="../demo/slider.html">
            
                    
                    Slider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../demo/animation.html">
            
                <a href="../demo/animation.html">
            
                    
                    Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6">
            
                <a target="_blank" href="https://github.com/alibaba/weex/tree/dev/examples">
            
                    
                    More
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5">
            
                <span>
            
                    
                    Service &amp; Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../tools/cli.html">
            
                <a href="../tools/cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../tools/transformer.html">
            
                <a href="../tools/transformer.html">
            
                    
                    Transformer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../tools/playground-app.html">
            
                <a href="../tools/playground-app.html">
            
                    
                    Playground App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../tools/how-to-debug.html">
            
                <a href="../tools/how-to-debug.html">
            
                    
                    Debug
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../faq.html">
            
                <a href="../faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="..">Extend to web</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="extend-weex-html5">Extend Weex HTML5</h2>
<p><span class="weex-version">0.4</span>
<a href="https://github.com/weexteam/article/issues/11" class="weex-translate" target="_blank">cn</a></p>
<h3 id="intro">Intro</h3>
<p>Weex is a extendable cross-platform solution for dynamic programming and publishing projects. You can build your own components on web platform or native platform by extending the components system. Also you can extend weex by adding new methods for one module, new moudles or new bundle loaders. Follow the steps bellow you can dive into the journy of creating multiple builtin components, APIs and loaders.</p>
<h3 id="create-new-component">Create new component</h3>
<p>Steps:</p>
<ol>
<li>Require <code>weex-html5</code> package as <code>Weex</code> (or any other name you like).</li>
<li>Extend <code>Weex.Component</code>, override methods of component class.</li>
<li>Use <code>Weex.registerComponent</code> to register your customized component in the <code>init</code> method of the installation module.</li>
</ol>
<p>You can override any method of class <code>Component</code> to customize your component&apos;s behavior. The typical methods of class <code>Component</code> you should override are:</p>
<ul>
<li>create</li>
<li>createChildren</li>
<li>insertBefore</li>
<li>removeChild</li>
<li>bindEvents</li>
</ul>
<p><strong>Here is a example for creating a new component</strong></p>
<p>The component&apos;s implementation file <code>new-component.js</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// require weex-html5</span>
<span class="hljs-keyword">var</span> Weex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;weex-html5&apos;</span>)
<span class="hljs-keyword">var</span> Component = Weex.Component

<span class="hljs-comment">// The constructor of your component.</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">NewComponent</span>(<span class="hljs-params">data</span>) </span>{
  <span class="hljs-keyword">this</span>.someAttr = data.attr.someAttr
  Component.call(<span class="hljs-keyword">this</span>, data)
}

<span class="hljs-comment">// Extend from Weex.Component.</span>
NewComponent.prototype = <span class="hljs-built_in">Object</span>.create(Component.prototype)

<span class="hljs-comment">// Override the &quot;create&quot; method to build elements for the component.</span>
NewComponent.prototype.create = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> node = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&apos;div&apos;</span>)
  node.setAttribute(<span class="hljs-string">&apos;data-some-attr&apos;</span>, <span class="hljs-keyword">this</span>.someAttr)
  <span class="hljs-keyword">return</span> node
}

<span class="hljs-comment">// Setup setters for updatable attributes.</span>
NewComponent.prototype.attr = {
  updatableAttr: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">this</span>.node.setAttribute(<span class="hljs-string">&apos;data-updatable-attr&apos;</span>, value)
  }
}

<span class="hljs-built_in">module</span>.exports = NewComponent
</code></pre>
<p>Register your component in the init method of the installation module <code>installModule.js</code></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> NewComponent = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;new-component.js&apos;</span>)
<span class="hljs-built_in">module</span>.exports = {
  init: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Weex</span>) </span>{
    Weex.registerComponent(<span class="hljs-string">&apos;new-component&apos;</span>, NewComponent)
  }
}
</code></pre>
<p>Install your module:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Weex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;weex-html5&apos;</span>)
<span class="hljs-keyword">var</span> installationModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;installModule.js&apos;</span>)

Weex.install(installationModule)
</code></pre>
<h3 id="add-new-api">Add new API</h3>
<p>You can add new API modules, or just add a new API for any existing API modules. For example, you can add a new module <code>user</code> with APIs like &apos;login&apos;, &apos;logout&apos; etc. Or you can just add a single new method such as <code>setTitle</code> for the exsiting module <code>pageInfo</code>. Whichever way you use, the developer can invoke the API by using <code>require(&apos;@weex-module/moduleName)[methodName](arg1, arg2, ...)</code> (<a href="../references/api.html">Module APIs</a>).</p>
<p>Steps:</p>
<ol>
<li>Require <code>weex-html5</code> package as <code>Weex</code> (or any other name you like).</li>
<li>Require your API modules.</li>
<li>Use <code>Weex.registerAPIModules</code> to register your API modules in the init method of your installation module.</li>
<li>Or use <code>Weex.registerAPI</code> to register your API for existing API modules in the init method of your installation module.</li>
</ol>
<p><strong>Here is a example for register a new API module</strong></p>
<p>First create a file named <code>user.js</code> for a new module, then define <code>login/logout</code> methods.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> user = {
  login: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">callbackId</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
    <span class="hljs-comment">// your logic code.</span>
    login.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
      self.sender.performCallback(callbackId, res)
    }).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
      self.sender.performCallback(callbackId, err)
    })
  },

  logout: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">callbackId</span>) </span>{
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
    <span class="hljs-comment">// your logic code.</span>
    logout.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
      self.sender.performCallback(callbackId, res)
    }).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
      self.sender.performCallback(callbackId, err)
    })
  }
}

<span class="hljs-comment">// add meta info to user module.</span>
user._meta = {
  user: [{
    name: <span class="hljs-string">&apos;login&apos;</span>,
    args: [<span class="hljs-string">&apos;function&apos;</span>]
  }, {
    name: <span class="hljs-string">&apos;logout&apos;</span>,
    args: [<span class="hljs-string">&apos;function&apos;</span>]
  }]
}

<span class="hljs-built_in">module</span>.exports = user
</code></pre>
<p>Register your <code>user</code> module in the <code>installationModule.js</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// Require your module file, which is user.js.</span>
<span class="hljs-keyword">var</span> user = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./user&apos;</span>)

<span class="hljs-built_in">module</span>.exports = {
  init: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Weex</span>) </span>{
    <span class="hljs-comment">// Register your new module. The last parameter is your</span>
    <span class="hljs-comment">// new API module&apos;s meta info.</span>
    Weex.registerApiModule(<span class="hljs-string">&apos;user&apos;</span>, user, user._meta)
  }
}
</code></pre>
<p>Install your module:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Weex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;weex-html5&apos;</span>)
<span class="hljs-keyword">var</span> installationModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;installationModule.js&apos;</span>)

Weex.install(installationModule)
</code></pre>
<p><strong>Another example for register a API to a exsiting API module</strong></p>
<p>First create a file named <code>pageInfo.js</code>, then define <code>setTitle</code> method:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> pageInfo = {
  setTitle: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">title</span>) </span>{
    <span class="hljs-built_in">document</span>.title = title
  }
}
</code></pre>
<p>Register <code>setTitle</code> method to the <code>pageInfo</code> module in the <code>installationModule.js</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> weex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;weex-html5&apos;</span>)

<span class="hljs-comment">// Require your module file, which is pageInfo.js.</span>
<span class="hljs-keyword">var</span> pageInfo = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./pageInfo&apos;</span>)

<span class="hljs-built_in">module</span>.exports = {
  init: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Weex</span>) </span>{
    <span class="hljs-comment">// Register your new method. The last parameter is your API&apos;s meta info.</span>
    Weex.registerApi(<span class="hljs-string">&apos;pageInfo&apos;</span>, <span class="hljs-string">&apos;setTitle&apos;</span>, pageInfo.setTitle, [<span class="hljs-string">&apos;string&apos;</span>, <span class="hljs-string">&apos;string&apos;</span>])
  }
}
</code></pre>
<p>install the isntallation module:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Weex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;weex-html5&apos;</span>)
<span class="hljs-keyword">var</span> installationModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;installationModule.js&apos;</span>)

Weex.install(installationModule)
</code></pre>
<h3 id="add-new-loader">Add new loader</h3>
<p>The type of buildin loaders to load a weex bundle are <code>loadByXHR</code>, <code>loadByJsonp</code> and <code>loadBySourceCode</code>. You can register your own loader by using <code>weex.registerLoader</code>. For example, you got a service method named <code>myServe.getWeexBundle</code>, which can load a weex bundle file throught some magical tunnel:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadByMyServe</span>(<span class="hljs-params">pageId, callback</span>) </span>{
  myServe.getWeexBundle(pageId).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">bundle</span>) </span>{
    callback(bundle)
  }).catch(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
    callback(err)
  })
}

<span class="hljs-built_in">module</span>.exports = {
  loadByMyServe: loadByMyServe
}
</code></pre>
<p>Register your loader in your installation module <code>loaderMod.js</code> and then install it:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// Require your new loader.</span>
<span class="hljs-keyword">var</span> loadByMyServe = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./loader&apos;</span>).loadByMyServe

<span class="hljs-built_in">module</span>.exports = {
  init: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Weex</span>) </span>{
    <span class="hljs-comment">// Register your new loader.</span>
    Weex.registerLoader(<span class="hljs-string">&apos;myserve&apos;</span>, loadByMyServe)
  }
}
</code></pre>
<p>install:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Weex = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;weex-html5&apos;</span>)
<span class="hljs-keyword">var</span> loaderMod = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;loaderMod.js&apos;</span>)

Weex.install(loaderMod)
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class="search-results-count"></span> results matching &quot;<span class="search-query"></span>&quot;</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching &quot;<span class="search-query"></span>&quot;</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="extend-to-ios.html" class="navigation navigation-prev " aria-label="Previous page: Extend to iOS">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../references/main.html" class="navigation navigation-next " aria-label="Next page: References">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Extend to web","level":"1.2.4.8","depth":3,"next":{"title":"References","level":"1.3","depth":1,"path":"references/main.md","ref":"references/main.md","articles":[{"title":"Bootstrap","level":"1.3.1","depth":2,"path":"references/bootstrap.md","ref":"references/bootstrap.md","articles":[]},{"title":"Component Definition","level":"1.3.2","depth":2,"path":"references/component-defs.md","ref":"references/component-defs.md","articles":[]},{"title":"Instance APIs","level":"1.3.3","depth":2,"path":"references/api.md","ref":"references/api.md","articles":[]},{"title":"Built-in Components","level":"1.3.4","depth":2,"path":"components/main.md","ref":"components/main.md","articles":[{"title":"Common Attributes","level":"1.3.4.1","depth":3,"path":"references/common-attrs.md","ref":"references/common-attrs.md","articles":[]},{"title":"Common Style","level":"1.3.4.2","depth":3,"path":"references/common-style.md","ref":"references/common-style.md","articles":[{"title":"Text Style","level":"1.3.4.2.1","depth":4,"path":"references/text-style.md","ref":"references/text-style.md","articles":[]},{"title":"Color","level":"1.3.4.2.2","depth":4,"path":"references/color-names.md","ref":"references/color-names.md","articles":[]}]},{"title":"Common Event","level":"1.3.4.3","depth":3,"path":"references/common-event.md","ref":"references/common-event.md","articles":[]},{"title":"Special Element","level":"1.3.4.4","depth":3,"path":"components/special-element.md","ref":"components/special-element.md","articles":[]},{"title":"div","level":"1.3.4.5","depth":3,"path":"components/div.md","ref":"components/div.md","articles":[]},{"title":"scroller","level":"1.3.4.6","depth":3,"path":"components/scroller.md","ref":"components/scroller.md","articles":[]},{"title":"list","level":"1.3.4.7","depth":3,"path":"components/list.md","ref":"components/list.md","articles":[{"title":"cell","level":"1.3.4.7.1","depth":4,"path":"components/cell.md","ref":"components/cell.md","articles":[]}]},{"title":"text","level":"1.3.4.8","depth":3,"path":"components/text.md","ref":"components/text.md","articles":[]},{"title":"image","level":"1.3.4.9","depth":3,"path":"components/image.md","ref":"components/image.md","articles":[]},{"title":"input","level":"1.3.4.10","depth":3,"path":"components/input.md","ref":"components/input.md","articles":[]},{"title":"switch","level":"1.3.4.11","depth":3,"path":"components/switch.md","ref":"components/switch.md","articles":[]},{"title":"slider","level":"1.3.4.12","depth":3,"path":"components/slider.md","ref":"components/slider.md","articles":[{"title":"indicator","level":"1.3.4.12.1","depth":4,"path":"components/indicator.md","ref":"components/indicator.md","articles":[]}]},{"title":"video","level":"1.3.4.13","depth":3,"path":"components/video.md","ref":"components/video.md","articles":[]},{"title":"a","level":"1.3.4.14","depth":3,"path":"components/a.md","ref":"components/a.md","articles":[]},{"title":"web","level":"1.3.4.15","depth":3,"path":"components/web.md","ref":"components/web.md","articles":[]},{"title":"wxc-tabbar","level":"1.3.4.16","depth":3,"path":"components/wxc-tabbar.md","ref":"components/wxc-tabbar.md","articles":[]},{"title":"wxc-navpage","level":"1.3.4.17","depth":3,"path":"components/wxc-navpage.md","ref":"components/wxc-navpage.md","articles":[]}]},{"title":"Built-in Modules","level":"1.3.5","depth":2,"path":"modules/main.md","ref":"modules/main.md","articles":[{"title":"dom","level":"1.3.5.1","depth":3,"path":"modules/dom.md","ref":"modules/dom.md","articles":[]},{"title":"stream","level":"1.3.5.2","depth":3,"path":"modules/stream.md","ref":"modules/stream.md","articles":[]},{"title":"modal","level":"1.3.5.3","depth":3,"path":"modules/modal.md","ref":"modules/modal.md","articles":[]},{"title":"animation","level":"1.3.5.4","depth":3,"path":"modules/animation.md","ref":"modules/animation.md","articles":[]},{"title":"webview","level":"1.3.5.5","depth":3,"path":"modules/webview.md","ref":"modules/webview.md","articles":[]},{"title":"navigator","level":"1.3.5.6","depth":3,"path":"modules/navigator.md","ref":"modules/navigator.md","articles":[]}]},{"title":"Low-level Specs","level":"1.3.6","depth":2,"ref":"","articles":[{"title":"JS Bundle Format","level":"1.3.6.1","depth":3,"path":"specs/js-bundle-format.md","ref":"specs/js-bundle-format.md","articles":[]},{"title":"JS Framework APIs","level":"1.3.6.2","depth":3,"path":"specs/js-framework-apis.md","ref":"specs/js-framework-apis.md","articles":[]},{"title":"Virtual DOM APIs","level":"1.3.6.3","depth":3,"path":"specs/virtual-dom-apis.md","ref":"specs/virtual-dom-apis.md","articles":[]}]}]},"previous":{"title":"Extend to iOS","level":"1.2.4.7","depth":3,"path":"advanced/extend-to-ios.md","ref":"advanced/extend-to-ios.md","articles":[]},"dir":"ltr"},"config":{"plugins":["header","disqus"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"weex-doc"},"search":{},"layout":{"headerPath":"_layouts/header.html"},"lunr":{"maxIndexSize":1000000},"header":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Weex","gitbook":"3.1.1","description":"Weex Document Site"},"file":{"path":"advanced/extend-to-html5.md","mtime":"2016-07-06T03:43:47.105Z","type":"markdown"},"gitbook":{"version":"3.1.1","time":"2016-07-06T03:47:59.177Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

